{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/weather.service\";\nfunction WeatherComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"div\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function WeatherComponent_li_6_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.refreshLocation(i_r2));\n    });\n    i0.ɵɵtext(7, \"Refresh\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function WeatherComponent_li_6_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.removeLocation(i_r2));\n    });\n    i0.ɵɵtext(9, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const location_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(location_r1.city);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" - \", location_r1.temperature, \"\\u00B0C, \", location_r1.weather, \" \");\n  }\n}\nexport let WeatherComponent = /*#__PURE__*/(() => {\n  class WeatherComponent {\n    constructor(weatherService) {\n      this.weatherService = weatherService;\n      this.cityName = '';\n      this.locations = [];\n    }\n    addLocation() {\n      if (this.cityName.trim() !== '') {\n        this.weatherService.getWeather(this.cityName).subscribe({\n          next: data => {\n            if (this.locations.length >= 8) {\n              this.locations.pop(); // remove last if limit exceeds\n            }\n\n            this.locations.unshift({\n              city: data.name,\n              temperature: data.main.temp,\n              weather: data.weather[0].main\n            });\n            this.cityName = '';\n          },\n          error: () => {\n            alert('City not found. Please check the name.');\n          }\n        });\n      }\n    }\n    removeLocation(index) {\n      this.locations.splice(index, 1);\n    }\n    refreshLocation(index) {\n      const city = this.locations[index].city;\n      this.weatherService.getWeather(city).subscribe(data => {\n        this.locations[index] = {\n          city: data.name,\n          temperature: data.main.temp,\n          weather: data.weather[0].main\n        };\n      });\n    }\n  }\n  WeatherComponent.ɵfac = function WeatherComponent_Factory(t) {\n    return new (t || WeatherComponent)(i0.ɵɵdirectiveInject(i1.WeatherService));\n  };\n  WeatherComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WeatherComponent,\n    selectors: [[\"app-weather\"]],\n    decls: 7,\n    vars: 2,\n    consts: [[1, \"container\", \"mt-3\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Enter City Name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"list-group\"], [\"class\", \"list-group-item d-flex justify-content-between align-items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-info\", \"btn-sm\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n    template: function WeatherComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function WeatherComponent_Template_input_ngModelChange_2_listener($event) {\n          return ctx.cityName = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function WeatherComponent_Template_button_click_3_listener() {\n          return ctx.addLocation();\n        });\n        i0.ɵɵtext(4, \"Add\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"ul\", 4);\n        i0.ɵɵtemplate(6, WeatherComponent_li_6_Template, 10, 3, \"li\", 5);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.cityName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.locations);\n      }\n    },\n    styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap \\\"use strict\\\";})()[_ngcontent-%COMP%] ;{%BLOCK%}\"]\n  });\n  return WeatherComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}